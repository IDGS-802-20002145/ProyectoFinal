{% extends "base.html" %}
{% block content %}

<div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel" data-interval="4000">
    <ol class="carousel-indicators">
      <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
      <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
      <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
    </ol>
    <div class="carousel-inner">
      <div class="carousel-item active slide1">
        <img class="d-block w-100"  src="./static/img/SartorialBanner.png" alt="First slide">
      </div>
      <div class="carousel-item slide2">
        <img class="d-block w-100" src="./static/img/SartorialBanner2.png" alt="Second slide">
      </div>
      <div class="carousel-item slide3">
        <img class="d-block w-100" src="./static/img/SartorialBanner3.png" alt="Third slide">
      </div>
    </div>
    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>
<style>
    .slide1 {
  animation-name: slide1;
  animation-duration: 0.8s;
  animation-timing-function: ease-in-out;
  animation-iteration-count: 1;
}

.slide2 {
  animation-name: slide2;
  animation-duration: 0.8s;
  animation-timing-function: ease-in-out;
  animation-iteration-count: 1;
}

.slide3 {
  animation-name: slide3;
  animation-duration: 0.8s;
  animation-timing-function: ease-in-out;
  animation-iteration-count: 1;
}

@keyframes slide1 {
  0% {
    opacity: 0;
    transform: translateX(100%);
  }
  100% {
    opacity: 1;
    transform: translateX(0%);
  }
}

@keyframes slide2 {
  0% {
    opacity: 0;
    transform: translateX(100%);
  }
  100% {
    opacity: 1;
    transform: translateX(0%);
  }
}

@keyframes slide3 {
  0% {
    opacity: 0;
    transform: translateX(100%);
  }
  100% {
    opacity: 1;
    transform: translateX(0%);
  }
}

</style>

<!-- Productos -->
<div class="container">
    <h1 class="text-center my-4">Productos Destacados</h1>
    <p>Estos son algunos de nuestros productos más populares:</p>
    <div class="card-deck">  
      {% set cont = 0%}
      {% for modelo, productos in productos_por_modelo.items() %}
        <div class="card mb-4">
          <div class="card-body" style="box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3)" id="{{modelo}}">
            
            {%  if modelo == otrosAtributos[loop.index-1].modelo %}
            
            <img class="card-img-top" src="{{ url_for('static', filename='img/' + otrosAtributos[loop.index-1].imagen) }}" alt="Card image cap" height="360">
            <p class="card-text h4" style="display: table; text-align: center;">{{otrosAtributos[loop.index-1].nombre}}</p>
            <p class="card-text h5" style="display: table;">Precio: ${{otrosAtributos[loop.index-1].precio}}</p>
            <p class="card-text h5" style="display: table;">Color: {{otrosAtributos[loop.index-1].color}}</p>
            <p class="card-text h5" style="display: none;">Descripción: {{otrosAtributos[loop.index-1].descripcion}}</p>
            <p class="card-text h5" style="display: none;">Stock: {{otrosAtributos[loop.index-1].stock_existencia }}</p>            
            {% endif %}

            
            <h5 class="card-text h5" style="display: table;">Modelo : {{ modelo }}</h5>
            <p class="card-text h5">Tallas disponibles: </p>
            {% for producto in productos %}
            <div class="form-check">
              <input class="form-check-input" type="radio" name="tallaProducto" id="{{ producto.id }}" value="{{ producto.id }}">
              <label class="form-check-label" for="{{ producto.id }}">
                {% if producto.tallas == 'S'%}
                Chica
                {% elif producto.tallas == 'M'%}
                Mediana
                {% elif producto.tallas == 'G'%}
                Grande
                {% endif %}
              </label>
            </div>
          {% endfor %}
          
            
            <button class="btn btn-primary" onclick="verMas('{{modelo}}')">Ver más</button>
            <form action="{{ url_for('cliente.pedidos', idProducto = tallaProducto) }}" method="POST"></form>
            <input type="number" class="form-control my-2" placeholder="Cantidad del producto" style="display: none;" id="txtCantCar">
            <button class="btn btn-success my-2"  onclick="cantCarrito()" id="btnAddCart0">Agregar al carrito</button>
            <button class="btn btn-info my-2" id="addCart" style="display: none;" type="submit">Agregar al carrito</button>
          </form>
          <br>
          
          </div>
        </div>
      {% endfor %}
      
    
    </div>
  </div>
  <script>
function verMas(id){          
  var cardBody = document.getElementById(id);
  var cardText = cardBody.getElementsByClassName("card-text");
  for (var i = 0; i < cardText.length; i++) {
    cardText[i].style.display = "table";     
  }
}
function cantCarrito(){
  var cantCarrito = document.getElementById("txtCantCar");
  var btnCarrito = document.getElementById("addCart");
  var btnCarrito0 = document.getElementById("btnAddCart0");
  cantCarrito.style.display = "inline";
  btnCarrito.style.display = "inline";
  btnCarrito0.style.display = "none";
}
  </script>
{% endblock%}
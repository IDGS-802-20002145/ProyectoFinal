{% extends "base.html" %}
{% block content %}


{% with messages = get_flashed_messages(with_categories=true) %}
{% if messages %}
{% for category, message in messages %}
<div class="alert alert-{{ category }}" role="alert">
  {{ message }}
  <button type="button" class="close" data-dismiss="alert" aria-label="Cerrar">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
{% endfor %}
{% endif %}
{% endwith %}



<div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel" data-interval="4000">
  <ol class="carousel-indicators">
    <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
    <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
    <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
  </ol>
  <div class="carousel-inner">
    <div class="carousel-item active slide1">
      <img class="d-block w-100" src="./static/img/SartorialBanner.png" alt="First slide">
    </div>
    <div class="carousel-item slide2">
      <img class="d-block w-100" src="./static/img/SartorialBanner2.png" alt="Second slide">
    </div>
    <div class="carousel-item slide3">
      <img class="d-block w-100" src="./static/img/SartorialBanner3.png" alt="Third slide">
    </div>
  </div>
  <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>
<style>
  .slide1 {
    animation-name: slide1;
    animation-duration: 0.8s;
    animation-timing-function: ease-in-out;
    animation-iteration-count: 1;
  }

  .slide2 {
    animation-name: slide2;
    animation-duration: 0.8s;
    animation-timing-function: ease-in-out;
    animation-iteration-count: 1;
  }

  .slide3 {
    animation-name: slide3;
    animation-duration: 0.8s;
    animation-timing-function: ease-in-out;
    animation-iteration-count: 1;
  }

  @keyframes slide1 {
    0% {
      opacity: 0;
      transform: translateX(100%);
    }

    100% {
      opacity: 1;
      transform: translateX(0%);
    }
  }

  @keyframes slide2 {
    0% {
      opacity: 0;
      transform: translateX(100%);
    }

    100% {
      opacity: 1;
      transform: translateX(0%);
    }
  }

  @keyframes slide3 {
    0% {
      opacity: 0;
      transform: translateX(100%);
    }

    100% {
      opacity: 1;
      transform: translateX(0%);
    }
  }
</style>

<!-- Productos -->
<div class="container">
  <h1 class="text-center my-4">Productos Destacados</h1>
  <p>Estos son algunos de nuestros productos m치s populares:</p>
  {% for p in productos %}
  <div class="card-deck">
    <div class="card mb-4">

      <img class="card-img-top" src="{{ url_for('static', filename='img/' + p.imagen) }}" alt="Card image cap"
        height="400">
      <div class="card-body" style="box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3)" id="{{p.id}}">
        <h5 class="card-title"><b>{{ p.nombre }}</b></h5>
        <label for="talla"><b>Talla</b></label>
        <div class="form-group">
          <label for="talla">Tallas disponibles:</label>
          <select name="talla" class="form-select" aria-label="Seleccione talla">
            {% for talla in p.talla %}
            <option value="{{ talla }}">
              {% if talla == 'S'%}
              Peque침a
              {% elif talla == 'M'%}
              Mediana
              {% elif talla == 'G'%}
              Grande
              {% endif%}
            </option>
            {% endfor %}
          </select>
        </div>
        <p class="card-text">${{p.precio}}</p>
        <p class="card-text">Color: {{p.color}}</p>
        <p class="card-text" style="display: none;">{{p.descripcion}}</p>
        <p class="card-text" style="display: none;">Stock: {{p.stock_existencia }}</p>
        <p class="card-text" style="display: none;">Modelo: {{p.modelo}}</p>
        <button class="btn btn-primary" onclick="verMas('{{p.id}}')">Ver m치s</button>
        <form action="{{ url_for('cliente.pedidos', idProducto = p.id) }}" method="POST">
          <button class="btn btn-info">A침adir al carrito</button>
        </form>
      </div>
    </div>
  </div>
  {% endfor %}
</div>
<script>
  function verMas(id) {
    var cardBody = document.getElementById(id);
    var cardText = cardBody.getElementsByClassName("card-text");
    for (var i = 0; i < cardText.length; i++) {
      cardText[i].style.display = "block";
    }
  }

</script>
{% endblock%}